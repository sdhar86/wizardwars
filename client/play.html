<template name='play'>
    {{> loginButtons}}
    {{#if currentUser}}
        {{> status}}
        {{> stats}} 

        {{#unless inProgress}}
            {{> score}}
        {{/unless}}

        {{#if inProgress}}
            {{> table}}
            {{> hand}}
            {{> lastCard}}
        {{/if}}

    {{/if}}
</template>

<template name = "score" >
    <h2>Game Over!</h2>
    <h3> {{message}} </h3>
</template>

<template name='status'>
<h2> <a href='/'> &larr; Home </a> </h2>
<h3> Game between you and {{otherPlayer.username}} {{#if inProgress}} {{#if yourTurn}} (Your Turn) {{/if}} {{/if}}</h3>
</template>

<template name='table'>
<div id='table'>
    <h2> Table </h2>
    {{#each table}}
    <div class='card {{type}}'>
        <span>{{name}}</span>
        <span>{{value}}</span>
    </div>
    {{/each}}
</div>
</template>

<template name='hand'>
<div id='hand'>
    <h2> Hand </h2>
    {{#each player.hand}}
    <div class='card {{type}}'>
        <span>{{name}}</span>
        {{# if value}}
            <span>{{value}}</span>
        {{/if }}
    </div>
    {{/each}}
    <br>
    {{> pass}}
</div>
</template>


<template name='stats'>
    <p>Your LifePoint: {{player.lifePoint}} </p>
    <p>Opponent's LifePoint: {{otherPlayer.lifePoint}} </p>
    <p>Deck Size: {{deckSize}} </p>
    <p>Turns till Fatigue: {{fatigueCountDown}} </p>
    <p>Turn Count: {{turnCount}} </p>
    <p>Pending Damage: {{player.pendingDamage}} </p>
    <p>Opponent's Pending Damage: {{otherPlayer.pendingDamage}} </p>
    <p>used cards: {{used.length}} </p>
    <p>total: {{total}} </p>
</template>

<template name = "lastCard">
    <div class = "card {{lastCard.type}}">
        <span>{{lastCard.name}}</span>
        <span>{{lastCard.value}}</span>
    </div>    
</template>

<template name='pass'>
<button> Pass </button>
</template>